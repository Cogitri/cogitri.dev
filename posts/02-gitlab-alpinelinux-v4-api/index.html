<!DOCTYPE html>
<html lang="en-gb">
<head>
    <meta charset="utf-8">
    <link crossorigin="anonymous" media="all"
        rel="stylesheet"
        href="https://www.cogitri.dev/css/frameworks.css" />
    <link crossorigin="anonymous" media="all"
        rel="stylesheet" href="https://www.cogitri.dev/css/github.css" />
    <meta name="viewport" content="width=device-width">

    <title>Contributing to Alpine Linux: making Merge Requests - Cogitri&#39;s blog</title>

    <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://www.cogitri.dev/images/favicon.ico">
    <meta name="theme-color" content="#1e2327">
    
</head>

<body class="env-production emoji-size-boost page-responsive page-profile">
  <div class="position-relative js-header-wrapper ">
    <span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar">
        <span class="progress-pjax-loader-bar top-0 left-0" style="width: 0%;"></span>
    </span>
    <header class="Header js-details-container Details flex-wrap flex-lg-nowrap p-responsive" role="banner">
        <div class="Header-item d-none d-lg-flex">
            <a class="Header-link" href="https://www.cogitri.dev" aria-label="Homepage"
                data-ga-click="Header, go to dashboard, icon:logo">
                <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
                    width="32" aria-hidden="true">
                    <path fill-rule="evenodd"
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                </svg>
            </a>
        </div>
        <div
            class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">
            <div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to"
                role="combobox" aria-owns="jump-to-results" aria-label="Search or jump to" aria-haspopup="listbox"
                aria-expanded="false">
                <div class="position-relative">
                </div>
            </div>
        </div>
        <div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative" style="margin-right: auto;">
            <a class="Header-link" href="https://www.cogitri.dev" aria-label="Homepage"
                data-ga-click="Header, go to dashboard, icon:logo">
                <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
                    width="32" aria-hidden="true">
                    <path fill-rule="evenodd"
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                </svg>
            </a>
        </div>
        <div class="Header-item position-relative mr-0 d-none d-lg-flex">
            <details class="details-overlay details-reset">
                <summary class="Header-link" aria-label="View profile and more"
                    data-ga-click="Header, show menu, icon:avatar">
                    
                    <img alt="" class="avatar" src="https://avatars1.githubusercontent.com/u/8766773?s=460&amp;v=4" height="20" width="20">
                    
                </summary>
            </details>
        </div>
    </header>
</div>

<div id="start-of-content" class="show-on-focus"></div>
<div id="js-flash-container">
</div>

  
<div class="application-main " data-commit-hovercards-enabled="">
    <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
        <main id="js-repo-pjax-container" data-pjax-container="">
            <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav pt-0 pt-lg-4 ">
                <div class="repohead-details-container clearfix container-lg p-responsive d-none d-lg-block">
                    <div class="mb-3 d-flex">
                        <h1 class="public css-truncate float-none flex-auto width-fit pl-0">
                            <a class="avatar mr-1" href="https://www.cogitri.dev/about/">
                            

                                <img
                                    src="https://avatars1.githubusercontent.com/u/8766773?s=460&amp;v=4" width="26" height="26">
                            
                            </a>
                            <span class="author"><a
                                    href="https://www.cogitri.dev">Rasmus Thomsen</a></span>
                            <span class="path-divider">/</span>
                            <strong itemprop="name" class="css-truncate-target" style="max-width: 410px"><a
                                    href="https://www.cogitri.dev/posts/02-gitlab-alpinelinux-v4-api/">Contributing to Alpine Linux: making Merge Requests</a></strong>

                            <div class="d-block text-small text-gray">
                                Created <time-ago datetime="2019-10-29" class="no-wrap"
                                    title="Created at 2019/10/29">
                                    2019-10-29</time-ago>
                                <span class="file-info-divider"></span>
                                Modifyed <time-ago datetime="2019-10-29" class="no-wrap"
                                    title="Modifyed  at 2019/10/29">
                                    2019-10-29</time-ago>
                            </div>
                        </h1>
                    </div>
                </div>




            </div>
            <div class="container-lg clearfix new-discussion-timeline experiment-repo-nav  p-responsive">
                <div class="repository-content ">
                    <div class="Box mt-3 position-relative">
                        <div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">
                            <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                                1033 Words
                                
                            </div>
                        </div>

                        <div id="readme" class="Box-body readme blob instapaper_body js-code-block-container">
                            <article class="markdown-body entry-content p-3 p-md-6" itemprop="text"><h6 id="guest-article-by-maxice8">Guest article by maxice8</h6>
<p>Some time ago, <a href="https://alpinelinux.org">Alpine Linux</a> started using their self-hosted
<a href="https://gitlab.alpinelinux.org">GitLab instance</a> to accept contributions via merge requests.</p>
<p>I wanted to move to it immediately as using their GitLab instance is planned to be the main repo (it
is currently a mirror to git.alpinelinux.org).</p>
<h1 id="how-it-was-before">How it was before</h1>
<p>Before using their GitLab instance I used their <a href="https://github.com/alpinelinux/aports">GitHub repo</a> to
contribute, I would use the amazing <a href="https://github.com/github/hub">hub</a> tool, which after login with my
personal access token would allow me to easily check out pull requests and merge them from the CLI.</p>
<p>The scripts for it are very simple, most of the logic is on hub and a few lines of shell just wrap around
it for my most common use cases.</p>
<p>This one uses hub to checkout a PR someone has made:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>set -eu
<span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> $# -gt <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>
<span style="color:#66d9ef">do</span>
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $# -gt <span style="color:#ae81ff">1</span> <span style="color:#f92672">]</span>
	<span style="color:#66d9ef">then</span>
		args<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74"> </span>$2<span style="color:#e6db74">&#34;</span>
		shift <span style="color:#ae81ff">2</span>
	<span style="color:#66d9ef">else</span>
		args<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span>
		shift <span style="color:#ae81ff">1</span>
	<span style="color:#66d9ef">fi</span>
	hub pr checkout $args
	pullp
<span style="color:#66d9ef">done</span>
</code></pre></div><h1 id="moving-to-gitlab">Moving to GitLab</h1>
<p>GitLab doesn&rsquo;t have a tool like hub that makes it super easy to interact with the GitLab V4 API like
hub does with the GitHub API. So I turned into accessing the API by myself with the ever trustworthy curl.</p>
<h2 id="finding-the-endpoint">Finding the endpoint</h2>
<p>Since GitLab allows self hosting, the first thing you have to do is find our respective GitLab endpoint. GitHub
is a centralized proprietary service so it doesn&rsquo;t have this issue.</p>
<p>This is the following code present in all my scripts that deal with GitLab (I believe the comments
are enough to tell what they are for and what they meant).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e"># Try to detect host, strip the .git suffix</span>
<span style="color:#75715e"># This is where the domain is, most normally gitlab.com</span>
<span style="color:#75715e"># but also works with other custom domains.</span>
HOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>git config remote.upstream.url | cut -d / -f -3<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

<span style="color:#75715e"># This is the ENDPOINT of the project you forked, if we call this with</span>
<span style="color:#75715e"># curl we get a JSON payload that describes the repo, including stuff like</span>
<span style="color:#75715e"># its :id and :name</span>
ENDPOINT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$HOST<span style="color:#e6db74">&#34;</span>/api/v4/projects/<span style="color:#e6db74">&#34;</span>$origin_owner<span style="color:#e6db74">&#34;</span>%2F<span style="color:#e6db74">&#34;</span>$origin_repo<span style="color:#e6db74">&#34;</span>

<span style="color:#75715e"># This is the ENDPOINT of the project itself, we need to get its :id value to</span>
<span style="color:#75715e"># pass as the &#39;target_project_id&#39;</span>
UPSTREAM_ENDPOINT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$HOST<span style="color:#e6db74">&#34;</span>/api/v4/projects/<span style="color:#e6db74">&#34;</span>$upstream_owner<span style="color:#e6db74">&#34;</span>%2F<span style="color:#e6db74">&#34;</span>$upstream_repo<span style="color:#e6db74">&#34;</span>
</code></pre></div><h2 id="finding-the-project-id">Finding the project id</h2>
<p>Each project has its own id, which we need to pass in the request to the GitLab API so it
knows which repo we target when creating the merge request.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">_get_project_id<span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
	repo<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>echo <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>			| sed -e <span style="color:#e6db74">&#39;s|https://||g&#39;</span> -e <span style="color:#e6db74">&#39;s|%2F|.|&#39;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>			| tr <span style="color:#e6db74">&#39;/&#39;</span> <span style="color:#e6db74">&#39;.&#39;</span> <span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

	<span style="color:#75715e"># Create cache directory if it doesn&#39;t exist</span>
	<span style="color:#f92672">[</span> -d <span style="color:#e6db74">&#34;</span>$XDG_CACHE_HOME<span style="color:#e6db74">&#34;</span>/mkmr <span style="color:#f92672">]</span> <span style="color:#f92672">||</span> mkdir -p <span style="color:#e6db74">&#34;</span>$XDG_CACHE_HOME<span style="color:#e6db74">&#34;</span>/mkmr

	<span style="color:#75715e"># The project ID is cached, read it out</span>
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f <span style="color:#e6db74">&#34;</span>$XDG_CACHE_HOME<span style="color:#e6db74">&#34;</span>/mkmr/<span style="color:#e6db74">&#34;</span>$repo<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
		cat <span style="color:#e6db74">&#34;</span>$XDG_CACHE_HOME<span style="color:#e6db74">&#34;</span>/mkmr/<span style="color:#e6db74">&#34;</span>$repo<span style="color:#e6db74">&#34;</span>
		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">fi</span>

	<span style="color:#75715e"># Call the GitLab API to see the id of the repo and write it to the cache</span>
	curl --silent <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> | jq <span style="color:#e6db74">&#39;.id // empty&#39;</span> | tee <span style="color:#e6db74">&#34;</span>$XDG_CACHE_HOME<span style="color:#e6db74">&#34;</span>/mkmr/<span style="color:#e6db74">&#34;</span>$repo<span style="color:#e6db74">&#34;</span>

	<span style="color:#f92672">[</span> -s <span style="color:#e6db74">&#34;</span>$XDG_CACHE_HOME<span style="color:#e6db74">&#34;</span>/mkmr/<span style="color:#e6db74">&#34;</span>$repo<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>The code above finds the project id via a request to the GitLab API which can be slow
so we cache the id of the project so you don&rsquo;t need to call it every time you have to
make a merge request.</p>
<h2 id="crafting-the-json-payload">Crafting the JSON payload</h2>
<p>The GitLab API takes a JSON payload for its requests, so we need to craft one in shell
for it, which is easier than initially thought.</p>
<p>This is the first part of the payload, and will always appear, regardless of whatever
options the user has passed to the script when creating the merge requests</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">	<span style="color:#75715e"># JSON payload that will be used to create the branch</span>
	BODY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{
</span><span style="color:#e6db74">		\&#34;id\&#34;: \&#34;</span><span style="color:#e6db74">${</span>origin_owner<span style="color:#e6db74">}</span><span style="color:#e6db74">%2F</span><span style="color:#e6db74">${</span>origin_repo<span style="color:#e6db74">}</span><span style="color:#e6db74">\&#34;,
</span><span style="color:#e6db74">		\&#34;source_branch\&#34;: \&#34;</span><span style="color:#66d9ef">$(</span>git rev-parse --abbrev-ref HEAD<span style="color:#66d9ef">)</span><span style="color:#e6db74">\&#34;,
</span><span style="color:#e6db74">		\&#34;remove_source_branch\&#34;: true,</span><span style="color:#e6db74">&#34;</span>
</code></pre></div><p>The second part adds labels to the merge request if the user passed them via the &ndash;labels
option. It also sets the description of the merge request, which the user can set by passing
&ndash;description and/or passing &ndash;edit (edit with $EDITOR).</p>
<blockquote>
<p>the A-upgrade label is automatically added if it detects an Alpine Linux upgrade commit
<!-- raw HTML omitted -->/<!-- raw HTML omitted -->: upgrade to <!-- raw HTML omitted --></p>
<p>The A-add label is automatically added if it detects an Alpine Linux add commit
<!-- raw HTML omitted -->/<!-- raw HTML omitted -->: new aport</p>
<p>The A-move label is automatically added if it detects an Alpine Linux move commit
<!-- raw HTML omitted -->/<!-- raw HTML omitted -->: move from <!-- raw HTML omitted --></p>
</blockquote>
<p>Note that we use awk to convert all newlines to literal \n, this is required and GitLab will
translate them back from literal \n to newlines.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">	<span style="color:#75715e"># If we set labels then append it to body</span>
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$LABEL<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
		BODY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$BODY<span style="color:#e6db74">
</span><span style="color:#e6db74">		\&#34;labels\&#34;: \&#34;</span>$LABEL<span style="color:#e6db74">\&#34;,</span><span style="color:#e6db74">&#34;</span>
	<span style="color:#66d9ef">fi</span>

	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$DESCRIPTION<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
		BODY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$BODY<span style="color:#e6db74">
</span><span style="color:#e6db74">		\&#34;description\&#34;: \&#34;</span><span style="color:#66d9ef">$(</span>printf <span style="color:#e6db74">&#34;%s&#34;</span> <span style="color:#e6db74">&#34;</span>$DESCRIPTION<span style="color:#e6db74">&#34;</span> | awk <span style="color:#e6db74">&#39;{printf  &#34;%s\\n&#34;, $0}&#39;</span> <span style="color:#66d9ef">)</span><span style="color:#e6db74">\&#34;,</span><span style="color:#e6db74">&#34;</span>
	<span style="color:#66d9ef">fi</span>
</code></pre></div><p>The last part sets the target_branch, which is where you want to merge the merge request into,
most of the time it is the master branch, but in some cases you might want to merge into other
branches with &ndash;target-branch.</p>
<blockquote>
<p>There is also logic specific to Alpine Linux for setting the target_branch to one of its
stable branches for backporting</p>
</blockquote>
<p>If the branch only contains one commit deviating from the target branch it sets the title and description of the merge request to the commit&rsquo;s text. If there are multiple deviating commits it allows the user to pick one of the commits to use its text. Users can also pass the <code>--title</code>  option to the script to write their own title</p>
<p>The assignee_id is rarely used since it is very annoying to use but if you pass it with &ndash;assignees then
the user that matches the id will be marked as assignee on the merge request.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">	BODY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$BODY<span style="color:#e6db74">
</span><span style="color:#e6db74">		\&#34;target_branch\&#34;: \&#34;</span>$TARGET_BRANCH<span style="color:#e6db74">\&#34;,
</span><span style="color:#e6db74">		\&#34;title\&#34;: \&#34;</span>$TITLE<span style="color:#e6db74">\&#34;,
</span><span style="color:#e6db74">		\&#34;assignee_id\&#34;: \&#34;</span>$ASSIGN<span style="color:#e6db74">\&#34;,
</span><span style="color:#e6db74">		\&#34;target_project_id\&#34;: </span>$PROJECT_ID<span style="color:#e6db74">
</span><span style="color:#e6db74">	}</span><span style="color:#e6db74">&#34;</span>;
</code></pre></div><h2 id="calling-the-api">Calling the API</h2>
<p>After the JSON payload is done we now call the API with curl.</p>
<p>For it we have to provide our own personal access token. To do it we use the
freedesktop <a href="https://freedesktop.org/wiki/Specifications/secret-storage-spec/secrets-api-0.1.html">Secrets API</a>
and <a href="https://manpages.ubuntu.com/manpages/bionic/man1/secret-tool.1.html">secret-tool(1)</a> to
query the system keyring for the private token. Users can just put the value for
their own personal access token.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">	JSON<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>curl -X POST <span style="color:#e6db74">&#34;</span>$ENDPOINT<span style="color:#e6db74">&#34;</span>/merge_requests <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>			--header <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">PRIVATE-TOKEN: </span><span style="color:#66d9ef">$(</span>secret-tool lookup Path a.o/gitlab/token/mkmr<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>			--header <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>			--data <span style="color:#e6db74">&#34;</span>$BODY<span style="color:#e6db74">&#34;</span> --silent<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

	WEB_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>echo <span style="color:#e6db74">&#34;</span>$JSON<span style="color:#e6db74">&#34;</span> | jq <span style="color:#e6db74">&#39;.web_url // empty&#39;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -z <span style="color:#e6db74">&#34;</span>$WEB_URL<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
		echo <span style="color:#e6db74">&#34;</span>$JSON<span style="color:#e6db74">&#34;</span> | jq -r .
	<span style="color:#66d9ef">else</span>
		echo <span style="color:#e6db74">&#34;</span>$WEB_URL<span style="color:#e6db74">&#34;</span> | tr -d <span style="color:#e6db74">&#39;&#34;&#39;</span>
	<span style="color:#66d9ef">fi</span>
</code></pre></div></article>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>



  <div class="footer container-lg width-full p-responsive" role="contentinfo">
    <div
        class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
        <ul
            class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
            <li class="mr-3 mr-lg-0">Â© 2019. Theme by <a href="https://github.com/MeiK2333/github-style"><span>github-style</span></a></li>
        </ul>

        <a aria-label="Homepage" title="Cogitri&#39;s blog" class="footer-octicon d-none d-lg-block mx-lg-4"
            href="https://www.cogitri.dev">
            <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24"
                aria-hidden="true">
                <path fill-rule="evenodd"
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                </path>
            </svg>
        </a>
        <ul
            class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        </ul>
    </div>
    <div class="d-flex flex-justify-center pb-6">
        <span class="f6 text-gray-light"></span>
    </div>
</div>

<script crossorigin="anonymous"
    type="application/javascript" src="https://www.cogitri.dev/js/frameworks.js"></script>

<script crossorigin="anonymous" async="async"
    type="application/javascript" src="https://www.cogitri.dev/js/github-bootstrap.js"></script>
<script>
    let classs = ['pinned-item-desc', 'text-gray', 'text-small', 'd-block', 'mt-2', 'mb-3'];
    const pinned_posts = document.getElementsByName('pinned-post');
    for (let i = 0; i < pinned_posts.length; i++) {
        for (let j = 0; j < classs.length; j++) {
            const ps = pinned_posts[i].getElementsByTagName('p');
            for (let k = 0; k < ps.length; k++) {
                ps[k].classList.add(classs[j]);
            }
        }
    }
    classs = [ 'd-inline-block', 'text-gray', 'mb-2', 'pr-4'];
    const posts_posts = document.getElementsByName('posts-post');
    for (let i = 0; i < posts_posts.length; i++) {
        for (let j = 0; j < classs.length; j++) {
            const ps = posts_posts[i].getElementsByTagName('p');
            for (let k = 0; k < ps.length; k++) {
                ps[k].classList.add(classs[j]);
            }
        }
    }
</script>
</body>

</html>